<div class="module">
 <div class="module-head"><h3>Libro mayor...</h3></div>
 <div class="module-body table">
  <table cellpadding="0" cellspacing="0" border="0" class="datatable-2 table table-bordered table-striped	 display" width="100%">
  <thead>
    <tr>
      <th>Cuenta</th>
      <th>Nombre</th>
      <th>Debe</th>
      <th>Haber</th>
      <th>Saldo</th>
    </tr>
  </thead>
  <tbody>
       <% session[:haber] = 0 %>
       <% session[:debe] = 0 %>
       <% @ScrCuentua.each do |c| %>
        <tr>
         <td><%= c.cuentaCodigo %></td>
         <td><%= c.cuentaNombre %></td>
         <td><%= c.cuentaDebe %></td>
         <td><%= c.cuentaHaber %></td>
         <% if c.cuentaDebe - c.cuentaHaber < 0 %>
          <td>(<%= c.cuentaHaber - c.cuentaDebe %>)</td>
         <% else %>
          <td><%= c.cuentaDebe - c.cuentaHaber %></td>
         <% end %>
        </tr>
        <% if c.cuentaCodigo >= 1000 %>
         <% session[:haber] += c.cuentaHaber %>
         <% session[:debe] += c.cuentaDebe %>
        <% end %>
       <% end %>
     </tbody>
  <tfoot>
    <tr>
      <th>Cuenta</th>
      <th>Nombre</th>
      <th>Debe</th>
      <th>Haber</th>
      <th>Saldo</th>
    </tr>
    <tr>
      <th></th>
      <th></th>
      <th>[<%= session[:haber].round(2) %>]</th>
      <th>[<%= session[:haber].round(2) %>]</th>
      <th></th>
    </tr>
  </tfoot>
</table>
