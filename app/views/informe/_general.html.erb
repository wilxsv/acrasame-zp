<div class="module">
 <div class="module-head"><h3>Balance General.</h3></div>
 <div class="module-body table">
  <!-- Total de activos -->
  <!--<table cellpadding="0" cellspacing="0" border="0" class="datatable-2 table table-bordered table-striped	 display" width="100%">--> 
  <table cellpadding="0" cellspacing="0" border="0" display" width="100%">
  <thead>
    <tr>
      <th>Cuenta</th>
      <th>Nombre</th>
      <th>Saldo</th>
    </tr>
  </thead>
  <tbody>
   <% saldo_a = 0 %>
   <% saldo_p= 0 %>
   <% saldo_c = 0 %>
   <% @ScrTodo.each do |t| %>
    <tr>
     <% number = t.cuentaCodigo.to_s %>
     <% if t.cuentaCodigo.to_s.length < 5 %>
       <td><b><%= t.cuentaCodigo %></b></td>
       <td><b><%= t.cuentaNombre %></b></td>
       <% if t.cuentaCodigo.to_s.initial == 1 %>
         <td><b><%= (t.cuentaDebe - t.cuentaHaber).round(2) %></b></td>
       <% else %>
         <td><b><%= (t.cuentaHaber - t.cuentaDebe).round(2) %></b></td>
       <% end %>
     <% else %>
       <td><%= t.cuentaCodigo %></td>
       <td><%= t.cuentaNombre %></td>
       <% if t.cuentaCodigo.to_s.initial == 1 %>
         <td><%= (t.cuentaDebe - t.cuentaHaber).round(2) %></td>
       <% else %>
         <td><%= (t.cuentaHaber - t.cuentaDebe).round(2) %></td>
       <% end %>
     <% end %>
    </tr>
   <% end %>
  </tbody>
  <tfoot>
    <tr>
      <th>Cuenta</th>
      <th>Nombre</th>
      <th>Saldo</th>
    </tr>
    <tr>
      <th></th>
      <th>Activo = Pasivo + Capital ~ <%= saldo_a.round(2) %> = <%= saldo_p.round(2) %> + <%= saldo_c.round(2) %></th>
      <th></th>
    </tr>
  </tfoot>
</table>
<% if (saldo_a.round(2) == saldo_p.round(2) + saldo_c.round(2)) %>
 <div class="alert alert-success">
  <%= form_for :transacx, :url => { :action => :pdf } do |f| %>
         <%= f.text_field :transaxFecha, type:"hidden", value:@fecha %>
         <%= f.text_field :id, type:"hidden", value:0 %>
         <%= f.submit "Imprimir", class:"btn btn-inverse btn-info btn-xs" %>
  <% end %>
  <strong>Felicitaciones!</strong> El ejercicio se cumplio, puede revisar el estado de resultados, recuerde realizar los asientos de ajuste antes de elaborar el estado de resultados
 </div>
<% else %>
 <div class="alert alert-error">
  <strong>Advertencia!</strong> No se puede realizar el cierre contable ya que no se cumple con este informe
 </div>
<% end %>
